<div class="ibox">
	<div class="ibox-title">
		<h3>夜猫店数据</h3>
	</div>
	<div class="ibox-content">
		<div class="row">
			<!--<form class="form-horizontal">-->
			<div class="form-group col-sm-4 form-horizontal">
				<label class="col-sm-3 control-label">开始时间</label>
				<div class="col-sm-9">
					<span class="input-group">
						<input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" ng-model="vm.datepicker.start.model" ng-change="vm.selectStart()"
						max-date="vm.now" is-open="vm.datepicker.start.open" close-text="关闭" current-text="今天" clear-text="清空">
						<span class="input-group-btn">
							<button type="button" class="btn btn-white" ng-click="vm.openDatepicker('start')">
								<i class="glyphicon glyphicon-calendar"></i>
							</button>
						</span>
					</span>
				</div>
			</div>
			<div class="form-group col-sm-4 form-horizontal">
				<label class="col-sm-3 control-label">截止时间</label>
				<div class="col-sm-9">
					<span class="input-group">
						<input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" ng-model="vm.datepicker.end.model" ng-change="vm.selectEnd()"
						min-date="vm.datepicker.start.model" max-date="vm.now" is-open="vm.datepicker.end.open" close-text="关闭" current-text="今天"
						clear-text="清空">
						<span class="input-group-btn">
							<button type="button" class="btn btn-white" ng-click="vm.openDatepicker('end')">
								<i class="glyphicon glyphicon-calendar"></i>
							</button>
						</span>
					</span>
				</div>
			</div>
			<!--<div class="form-group col-md-4">
				<button class="btn btn-primary pull-right" ng-csv="vm.exportCsv" add-bom="true" csv-header="vm.csvHeader" lazy-load="true" filename="基本-夜猫店数据-{{vm.query.start + '至' + vm.query.end}}.csv"
				field-separator=",">导出</button>
			</div>-->
			<!--</form>-->
		</div>
		<div class="row">
			<div class="form-group col-sm-12 form-horizontal">
				<label class="col-sm-1 control-label">地区:</label>
				<div class="col-sm-9">
					<ol class="breadcrumb">
						<li ng-repeat="(level, districts) in vm.dv.districtLevels | orderBy: '-level'">
							<button class="btn btn-info btn-sm" ng-click="vm.setCurrentLevel(level,districts)">{{districts.name}}</button>
						</li>
					</ol>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<table class="table table-striped table-bordered">
					<thead>
						<tr>
							<th ng-repeat="header in vm.csvHeader">{{header}}</th>
							<!--<th>区域</th>
							<th>日期</th>
							<th>夜猫店数</th>
							<th>营业夜猫店数</th>
							<th>平均营业时长</th>
							<th>订单平均响应</th>
							<th>店长数店长留存率</th>
							<th>店长线下订单金额</th>
							<th>店长线下订单量</th>-->
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="row in vm.dv.getCurrentLevel().districts | orderBy:'-processedData.nightCat'" ng-click="vm.loadNextLevel(row)">
							<td>{{row.name}}</td>
							<td>{{vm.datepicker.start.model | date }} ~ {{vm.datepicker.end.model | date}}</td>
							<td style="text-align: right">{{row.processedData.nightCat | number:0}}</td>
							<td style="text-align: right">{{row.processedData.nightCatOpen | number:0}}</td>
							<!--<td>{{row.processedData.avgBusinessTime | number:2}}</td>
							<td>{{row.processedData.avgResponseTime | number:2}}</td>
							<td>{{row.processedData.shopowner | number:0}}</td>
							<td>{{row.processedData.offlineCount | number:0}}</td>
							<td>{{row.processedData.offlineMoney | number:0}}</td>-->
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>